<html>
<head>
    <title>Current Production Tagging</title>
    <style type="text/css" media="all">
        @import url("/modules/system/system.base.css?mwmgvm");
        @import url("/modules/system/system.menus.css?mwmgvm");
        @import url("/modules/system/system.messages.css?mwmgvm");
        @import url("/modules/system/system.theme.css?mwmgvm");
        @import url("/modules/field/theme/field.css?mwmgvm");
        @import url("/modules/node/node.css?mwmgvm");
        @import url("/modules/search/search.css?mwmgvm");
        @import url("/modules/user/user.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/packages/jquery/css/jquery.autocomplete.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/packages/jquery/css/menu.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/packages/jquery/css/token-input-facebook.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/packages/jquery/jquery-ui-1.9.0/css/smoothness/jquery-ui-1.9.0.custom.min.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/packages/jquery/plugins/DataTables/media/css/demo_table_jui.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/css/civicrm.css?mwmgvm");
        @import url("/sites/all/modules/civicrm/css/extras.css?mwmgvm");
    </style>
    <style type="text/css" media="screen,projection">
        @import url("/sites/default/themes/Bluebird/css/Bluebird.css?mwmgvm");
        @import url("/sites/default/themes/Bluebird/nyss_skin/skin.css?mwmgvm");
        @import url("/sites/default/themes/Bluebird/nyss_skin/civi-header.css?mwmgvm");
        @import url("/sites/default/themes/Bluebird/css/style.css?mwmgvm");
    </style>
    <script type="text/javascript" src="/misc/jquery.js?v=1.4.4"></script>
    <script type="text/javascript" src="/misc/jquery.once.js?v=1.2"></script>
    <script type="text/javascript" src="/misc/drupal.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/jquery-1.8.3.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/jquery-ui-1.9.0/js/jquery-ui-1.9.0.custom.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.autocomplete.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.menu.pack.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.chainedSelects.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.tableHeader.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.textarearesizer.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.form.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.tokeninput.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.timeentry.pack.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.mousewheel.pack.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/NYSS/jquery.toolTip.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/DataTables/media/js/jquery.dataTables.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.FormNavigate.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.validate.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.ui.datepicker.validation.pack.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery-fieldselection.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.jeditable.mini.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.blockUI.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.notify.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jquery.redirect.min.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/js/rest.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/js/Common.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/js/jquery/jquery.crmeditable.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/js/jquery/jquery.crmasmselect.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/NYSS/jquery.cursorStart.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/packages/jquery/plugins/jstree/jquery.jstree.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/all/modules/civicrm/js/noconflict.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/default/themes/Bluebird/scripts/message-manager.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/default/themes/Bluebird/scripts/civi-header.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/default/themes/Bluebird/scripts/general.js?mwmgvm"></script>
    <script type="text/javascript" src="/sites/default/themes/Bluebird/scripts/bbtree.js"></script>
    <style>
    /*

Tags CSS
SassCommandWin: sass --update themes\Bluebird\nyss_skin\tags\tags.scss:themes\Bluebird\nyss_skin\tags\tags.css
SassCommand*nix: sass --update themes/Bluebird/nyss_skin/tags/tags.scss:themes/Bluebird/nyss_skin/tags/tags.css


*/
/*mixins*/
/*icons*/
/* fCB icon mixins, would like to make this into an each statement once Variable Interpolation comes out */
/*to put in bb css, not tagging.css*/
#crm-container #crm-tagListWrap {
  clear: both;
  height: auto; }

.crm-section .tag-label{
  font-size: 120%;
  margin-top: 20px;
}
#issue-code-search{
  margin:0;
  border-bottom:none;
  width: 522px;
  padding: 8px;
 }
.BBMessages {
  overflow: visible;
  height: auto;
  background-color: #daf2ff;
  color: #002a41;
  border-style: solid;
  border-color: #a7e0ff;
  border-bottom-width: 1px;
  padding: 5px;
  display: none; }
  .BBMessages .title {
    margin: 5px 0;
    font-weight: bold;
    font-size: 18px; }
  .BBMessages .seeMore {
    cursor: pointer;
    font-weight: bold;
    font-style: italic;
    text-decoration: underline; }
  .BBMessages .moreHidden {
    display: none;
    word-wrap: break-word; }
  .BBMessages span {
    font-weight: bold; }
  .BBMessages.static {
    position: absolute;
    top: 0px;
    left: 0px;
    z-index: 1;
    width: 495px; }
  .BBMessages.BBError {
    background-color: #f8512f;
    color: black;
    border-style: solid;
    border-color: #ec2e08;
    border-bottom-width: 1px; }
  .BBMessages.BBWarning {
    background-color: #edf2a0;
    color: black;
    border-style: solid;
    border-color: #e4ec73;
    border-bottom-width: 1px; }
  .BBMessages.BBSuccess {
    background-color: #b0d730;
    color: black;
    border-style: solid;
    border-color: #90b222;
    border-bottom-width: 1px; }
  .BBMessages .closeMessage {
    background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/icons-3e3e3e.png") !important;
    cursor: pointer;
    background-position: -97px -129px;
    height: 16px;
    width: 16px;
    float: right; }

/* view & edit contact page fixes */
#mainTabContainer .tag-section, #tagSelect .tag-section, form#Contact .groupTagsKeywords .tag-section {
  width: 524px;
  margin-left: auto;
  margin-right: auto;
  float: none; }
  #mainTabContainer .tag-section .content, #tagSelect .tag-section .content, form#Contact .groupTagsKeywords .tag-section .content {
    margin-left: 0px; }
#mainTabContainer ul.token-input-list-facebook, #tagSelect ul.token-input-list-facebook, form#Contact .groupTagsKeywords ul.token-input-list-facebook {
  width: 522px; }

/*pagestructure*/
.BBTree, #BBTreeContainer .BBTree, #BBDialog .BBTree {
  width: 520px;
  overflow-x: hidden;
  overflow-y: scroll;
  height: 400px;
  background-color: #fff;
  border: 1px solid #ccc;
  cursor: default;
  margin-top: 0px;
  /* for tag hirarchy structure */ }
  .BBTree dt, #BBTreeContainer .BBTree dt, #BBDialog .BBTree dt {
    float: inherit;
    clear: inherit;
    text-align: inherit;
    vertical-align: inherit;
    padding: 0px;
    font-size: inherit;
    white-space: inherit;
    width: inherit;
    height: 20px;
    line-height: 20px; }
    .BBTree dt .ddControl, #BBTreeContainer .BBTree dt .ddControl, #BBDialog .BBTree dt .ddControl {
      height: 20px;
      width: 20px;
      float: left;
      margin: 0px; }
      .BBTree dt .ddControl.treeButton, #BBTreeContainer .BBTree dt .ddControl.treeButton, #BBDialog .BBTree dt .ddControl.treeButton {
        background: url("/sites/default/themes/Bluebird/nyss_skin/images/icons-3e3e3e.png") no-repeat -32px -15px;
        cursor: pointer; }
        .BBTree dt .ddControl.treeButton.open, #BBTreeContainer .BBTree dt .ddControl.treeButton.open, #BBDialog .BBTree dt .ddControl.treeButton.open {
          background-position: -64px -15px; }
    .BBTree dt .tag, #BBTreeContainer .BBTree dt .tag, #BBDialog .BBTree dt .tag {
      display: inline;
      font-family: Arial;
      font-size: 12px;
      font-weight: normal;
      padding-left: 5px; }
    .BBTree dt .fCB, #BBTreeContainer .BBTree dt .fCB, #BBDialog .BBTree dt .fCB {
      display: none;
      padding: 1px 0;
      float: right; }
      .BBTree dt .fCB ul, #BBTreeContainer .BBTree dt .fCB ul, #BBDialog .BBTree dt .fCB ul {
        margin: 0; }
        .BBTree dt .fCB ul li, #BBTreeContainer .BBTree dt .fCB ul li, #BBDialog .BBTree dt .fCB ul li {
          height: 16px;
          width: 16px;
          float: left;
          margin: 1px 2px 0 0;
          list-style-image: none !important;
          list-style-type: none !important; }
          .BBTree dt .fCB ul li.addTag, #BBTreeContainer .BBTree dt .fCB ul li.addTag, #BBDialog .BBTree dt .fCB ul li.addTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: 0; }
          .BBTree dt .fCB ul li.removeTag, #BBTreeContainer .BBTree dt .fCB ul li.removeTag, #BBDialog .BBTree dt .fCB ul li.removeTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: -17px 0px; }
          .BBTree dt .fCB ul li.moveTag, #BBTreeContainer .BBTree dt .fCB ul li.moveTag, #BBDialog .BBTree dt .fCB ul li.moveTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: -34px 0px; }
          .BBTree dt .fCB ul li.updateTag, #BBTreeContainer .BBTree dt .fCB ul li.updateTag, #BBDialog .BBTree dt .fCB ul li.updateTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: -50px 0px; }
          .BBTree dt .fCB ul li.mergeTag, #BBTreeContainer .BBTree dt .fCB ul li.mergeTag, #BBDialog .BBTree dt .fCB ul li.mergeTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: -66px 0px; }
          .BBTree dt .fCB ul li.convertTag, #BBTreeContainer .BBTree dt .fCB ul li.convertTag, #BBDialog .BBTree dt .fCB ul li.convertTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
            cursor: pointer;
            background-position: -107px 0px; }
          .BBTree dt .fCB ul li.printTag, #BBTreeContainer .BBTree dt .fCB ul li.printTag, #BBDialog .BBTree dt .fCB ul li.printTag {
            background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/icons-3e3e3e.png") !important;
            cursor: pointer;
            background-position: -160px -96px; }
    .BBTree dt:hover, #BBTreeContainer .BBTree dt:hover, #BBDialog .BBTree dt:hover {
      background-color: #DEDEDE; }
      .BBTree dt:hover .fCB, #BBTreeContainer .BBTree dt:hover .fCB, #BBDialog .BBTree dt:hover .fCB {
        display: inline; }
      .BBTree dt:hover.lv-0, #BBTreeContainer .BBTree dt:hover.lv-0, #BBDialog .BBTree dt:hover.lv-0 {
        background-color: transparent; }
    .BBTree dt.subChecked, #BBTreeContainer .BBTree dt.subChecked, #BBDialog .BBTree dt.subChecked {
      background-color: #F1F8EB;
      border: 1px dashed #B0D730; }
      .BBTree dt.subChecked:hover, #BBTreeContainer .BBTree dt.subChecked:hover, #BBDialog .BBTree dt.subChecked:hover {
        background-color: #DEDEDE; }
    .BBTree dt.checked, #BBTreeContainer .BBTree dt.checked, #BBDialog .BBTree dt.checked {
      background-color: #F1F8EB;
      border: 1px solid #B0D730; }
      .BBTree dt.checked:hover, #BBTreeContainer .BBTree dt.checked:hover, #BBDialog .BBTree dt.checked:hover {
        background-color: #DEDEDE; }
  .BBTree dl.lv-0, #BBTreeContainer .BBTree dl.lv-0, #BBDialog .BBTree dl.lv-0 {
    width: 485px;
    margin: 0 10px; }
  .BBTree dt.lv-0, #BBTreeContainer .BBTree dt.lv-0, #BBDialog .BBTree dt.lv-0 {
    width: 485px;
    margin: 10px 10px 0; }
    .BBTree dt.lv-0 .treeButton, #BBTreeContainer .BBTree dt.lv-0 .treeButton, #BBDialog .BBTree dt.lv-0 .treeButton {
      display: none; }
    .BBTree dt.lv-0 .tag, #BBTreeContainer .BBTree dt.lv-0 .tag, #BBDialog .BBTree dt.lv-0 .tag {
      font-size: 14px;
      font-weight: bold;
      display: none;
    }
  .BBTree dl.lv-1, #BBTreeContainer .BBTree dl.lv-1, #BBDialog .BBTree dl.lv-1 {
    width: 475px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-2, #BBTreeContainer .BBTree dl.lv-2, #BBDialog .BBTree dl.lv-2 {
    width: 465px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-3, #BBTreeContainer .BBTree dl.lv-3, #BBDialog .BBTree dl.lv-3 {
    width: 455px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-4, #BBTreeContainer .BBTree dl.lv-4, #BBDialog .BBTree dl.lv-4 {
    width: 445px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-5, #BBTreeContainer .BBTree dl.lv-5, #BBDialog .BBTree dl.lv-5 {
    width: 435px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-6, #BBTreeContainer .BBTree dl.lv-6, #BBDialog .BBTree dl.lv-6 {
    width: 425px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-7, #BBTreeContainer .BBTree dl.lv-7, #BBDialog .BBTree dl.lv-7 {
    width: 415px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-8, #BBTreeContainer .BBTree dl.lv-8, #BBDialog .BBTree dl.lv-8 {
    width: 405px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-9, #BBTreeContainer .BBTree dl.lv-9, #BBDialog .BBTree dl.lv-9 {
    width: 395px;
    margin-left: 10px;
    display: none; }
  .BBTree dl.lv-10, #BBTreeContainer .BBTree dl.lv-10, #BBDialog .BBTree dl.lv-10 {
    width: 385px;
    margin-left: 10px;
    display: none; }
  .BBTree.hidden, #BBTreeContainer .BBTree.hidden, #BBDialog .BBTree.hidden {
    display: none; }
  .BBTree.modal, #BBTreeContainer .BBTree.modal, #BBDialog .BBTree.modal {
    margin: 0 auto;
    border: 0px; }
    .BBTree.modal .fCB, #BBTreeContainer .BBTree.modal .fCB, #BBDialog .BBTree.modal .fCB {
      display: inline;
      float: left;
      margin: -1px 0px -2px 0px; }
      .BBTree.modal .fCB input[type="checkbox"], #BBTreeContainer .BBTree.modal .fCB input[type="checkbox"], #BBDialog .BBTree.modal .fCB input[type="checkbox"] {
        margin: 0px; }
        .BBTree.modal .fCB input[type="checkbox"].checked, #BBTreeContainer .BBTree.modal .fCB input[type="checkbox"].checked, #BBDialog .BBTree.modal .fCB input[type="checkbox"].checked {
          left: -1px; }
  .BBTree.tagging .fCB, #BBTreeContainer .BBTree.tagging .fCB, #BBDialog .BBTree.tagging .fCB {
    display: inline;
    float: left;
    margin: 0px -2px 0px 5px; }
    .BBTree.tagging .fCB input[type="checkbox"], #BBTreeContainer .BBTree.tagging .fCB input[type="checkbox"], #BBDialog .BBTree.tagging .fCB input[type="checkbox"] {
      margin: 0px; }
      .BBTree.tagging .fCB input[type="checkbox"].checked, #BBTreeContainer .BBTree.tagging .fCB input[type="checkbox"].checked, #BBDialog .BBTree.tagging .fCB input[type="checkbox"].checked {
        left: -1px; }
  .BBTree *, #BBTreeContainer .BBTree *, #BBDialog .BBTree * {
    font-size: 1em; }
  .BBTree dl, #BBTreeContainer .BBTree dl, #BBDialog .BBTree dl {
    margin: 0px; }

/*BBTree*/
#BBTreeContainer, #BBDialog {
  width: 522px;
  position: relative;
  margin: 0 auto;
  overflow: hidden; }

#BBDialog {
  overflow: auto; }
  #BBDialog .BBTree {
    overflow: visible;
    height: auto; }

/*BBContainer*/
.loadingGif {
  background: url("/sites/default/themes/Bluebird/images/loading.gif") no-repeat scroll center white !important; }
  .loadingGif .lv-0 {
    display: none; }

/* tabs */
.crm-tagTabHeader, .BBTree-Tags {
  height: 15px;
  clear: both; }
  .crm-tagTabHeader li, .BBTree-Tags li {
    float: left;
    margin-right: 15px;
    background: transparent url(/sites/default/themes/Bluebird/nyss_skin/images/button.png) no-repeat scroll right -30px !important;
    list-style: none;
    width: 135px;
    color: #fff;
    text-align: center;
    cursor: pointer;
    font-size: 12px; }
    .crm-tagTabHeader li:hover, .BBTree-Tags li:hover {
      color: #ccc;
      border-top: #457AA4 3px solid;
      margin-top: -3px; }
    .crm-tagTabHeader li.active, .BBTree-Tags li.active {
      border-top: #457AA4 3px solid;
      margin-top: -3px;
      font-size: 14px; }

/* legend */
#crm-container .crm-tagLegend td div {
  height: 16px;
  width: 16px;
  float: left;
  margin-right: 5px; }
#crm-container .crm-tagLegend td.addTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: 0; }
#crm-container .crm-tagLegend td.removeTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: -17px 0px; }
#crm-container .crm-tagLegend td.moveTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: -34px 0px; }
#crm-container .crm-tagLegend td.updateTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: -50px 0px; }
#crm-container .crm-tagLegend td.mergeTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: -66px 0px; }
#crm-container .crm-tagLegend td.convertTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/fcb.png") !important;
  cursor: pointer;
  background-position: -107px 0px; }
#crm-container .crm-tagLegend td.printTag div {
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/icons-3e3e3e.png") !important;
  cursor: pointer;
  background-image: url("/sites/default/themes/Bluebird/nyss_skin/images/icons-3e3e3e.png") !important;
  cursor: pointer;
  background-position: -160px -96px; }
#crm-container .crm-tagLegend th {
  border: 0px; }
#crm-container .crm-tagLegend * {
  border: 0px; }
#crm-container .crm-tagLegend table {
  width: 380px;
  float: right;
  margin-bottom: -10px; }

/* print tags */
@media print, screen {
  body.popup .BBTree, body.popup .BBTree * {
    visibility: visible; }
  body.popup .BBTree {
    position: absolute;
    left: 0;
    top: 0; }
    body.popup .BBTree div.treeButton {
      background-position: -64px -15px; }
    body.popup .BBTree dl.lv-0 {
      display: block !important; }
    body.popup .BBTree dl.lv-1 {
      display: block !important; }
    body.popup .BBTree dl.lv-2 {
      display: block !important; }
    body.popup .BBTree dl.lv-3 {
      display: block !important; }
    body.popup .BBTree dl.lv-4 {
      display: block !important; }
    body.popup .BBTree dl.lv-5 {
      display: block !important; }
    body.popup .BBTree dl.lv-6 {
      display: block !important; }
    body.popup .BBTree dl.lv-7 {
      display: block !important; }
    body.popup .BBTree dl.lv-8 {
      display: block !important; }
    body.popup .BBTree dl.lv-9 {
      display: block !important; }
    body.popup .BBTree dl.lv-10 {
      display: block !important; }
    body.popup .BBTree dt:hover {
      background-color: transparent; }
      body.popup .BBTree dt:hover .fCB {
        display: none; } }
 .searched,.search-parent {
     text-decoration: underline;
     background: #e1e1e1;
 }
 .search-hidden{
  display:  none;
 }
    </style>


</head>
<body>
<div class="container" style="padding-top: 25px;">
<div class="clear span-24 main-container">
<div id="crm-container" class="crm-container crm-accordion-processed" lang="en" xml:lang="en">
  <div class="crm-block crm-content-block crm-contact-page crm-inline-edit-container crm-edit-ready">
      <div id="mainTabContainer" class="ui-tabs ui-widget ui-widget-content ui-corner-all">
          <ul class="crm-contact-tabs-list ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist">
              <li id="tab_summary" class="crm-tab-button ui-state-default ui-corner-top ui-corner-bottom" role="tab" tabindex="-1" aria-controls="contact-summary" aria-labelledby="ui-id-1" aria-selected="false">
                <a href="#" title="Summary" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-1">
                <span> </span> Summary                <em>&nbsp;</em>
                </a>
              </li>
              <li id="tab_activity" class="crm-tab-button crm-count- ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Activities" aria-labelledby="ui-id-2" aria-selected="false">
                <a href="#" title="Activities" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-2">
                  <span> </span> Activities
                  <em></em>
                <em>0</em></a>
              </li>
              <li id="tab_case" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Cases" aria-labelledby="ui-id-3" aria-selected="false">
                <a href="#" title="Cases" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-3">
                  <span> </span> Cases
                  <em>0</em>
                </a>
              </li>
              <li id="tab_mailing" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Mailings" aria-labelledby="ui-id-4" aria-selected="false">
                <a href="#" title="Mailings" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-4">
                  <span> </span> Mailings
                  <em>0</em>
                </a>
              </li>
              <li id="tab_rel" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Relationships" aria-labelledby="ui-id-5" aria-selected="false">
                <a href="#" title="Relationships" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-5">
                  <span> </span> Relationships
                  <em>0</em>
                </a>
              </li>
              <li id="tab_group" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Groups" aria-labelledby="ui-id-6" aria-selected="false">
                <a href="#" title="Groups" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-6">
                  <span> </span> Groups
                  <em>0</em>
                </a>
              </li>
              <li id="tab_note" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Notes" aria-labelledby="ui-id-7" aria-selected="false">
                <a href="#" title="Notes" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-7">
                  <span> </span> Notes
                  <em>0</em>
                </a>
              </li>
              <li id="tab_tag" class="crm-tab-button crm-count-0 ui-state-default ui-corner-top ui-corner-bottom disabled ui-tabs-active ui-state-active" role="tab" tabindex="0" aria-controls="Tags" aria-labelledby="ui-id-8" aria-selected="true">
                <a href="#" title="Tags" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-8">
                  <span> </span> Tags
                  <em>0</em>
                </a>
              </li>
              <li id="tab_log" class="crm-tab-button crm-count- ui-state-default ui-corner-top ui-corner-bottom disabled" role="tab" tabindex="-1" aria-controls="Change_Log" aria-labelledby="ui-id-9" aria-selected="false">
                <a href="#" title="Change Log" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-9">
                  <span> </span> Change Log
                  <em></em>
                  <em>3</em></a>
              </li>
          </ul>

        <div id="Tags" class="ui-tabs-panel ui-widget-content ui-corner-bottom" aria-live="polite" aria-labelledby="ui-id-8" role="tabpanel" aria-expanded="true" aria-hidden="false" style="display: block;">
            <div class="crm-container-snippet" bgcolor="white">
                <div id="tagSelect" class="crm-block crm-content-block">
                    <div id="TagGroups" class="view-content">
                        <h3>Tags</h3>
                        <div id="crm-tagListWrap">
                          <div class="crm-section tag-section contact-tagset-296-section">
                            <div class="label">
                              <label>Keywords</label>
                            </div>
                            <div class="content">
                              &nbsp;
                              <input type="hidden" name="contact_taglist[296]" value="" id="contact_taglist_296" />
                              <script type="text/javascript">

                                  var tagUrl = "/civicrm/ajax/taglist?parentId=296&key=459191e4b5403730b0af7a496ac52055";
                                  var contactEntityTags = '';

                                  //NYSS
                                  var hintText = "Begin typing a tag name.";

                                  cj( ".contact-tagset-296-section:not(.crm-processed-input) input")
                                    .addClass("contact-taglist_296");
                                  cj( ".contact-tagset-296-section:not(.crm-processed-input) .contact-taglist_296"  )
                                    .tokenInput( tagUrl, {
                                      prePopulate: contactEntityTags,
                                      theme: 'facebook',
                                      hintText: hintText,
                                      onAdd: function ( item ) {
                                        processContactTags_296( 'select', item.id );

                                        //NYSS update count of tags in summary tab
                                        if ( cj( '.ui-tabs-nav #tab_tag a' ).length ) {
                                          var tagCount = cj('.ui-tabs-nav #tab_tag a em').html();
                                          tagCount++;
                                          cj( '.ui-tabs-nav #tab_tag a em' ).html(tagCount);
                                        }
                                      },
                                      onDelete: function ( item ) {
                                        processContactTags_296( 'delete', item.id );
                                        //NYSS update count of tags in summary tab
                                        if ( cj( '.ui-tabs-nav #tab_tag a' ).length ) {
                                          var tagCount = cj('.ui-tabs-nav #tab_tag a em').html();
                                          tagCount--;
                                          cj( '.ui-tabs-nav #tab_tag a em' ).html(tagCount);
                                        }
                                      }
                                    }
                                  );

                                  cj( ".contact-tagset-296-section:not(.crm-processed-input)").addClass("crm-processed-input");

                                  function processContactTags_296( action, id ) {
                                    var postUrl          = "/civicrm/ajax/processTags";
                                    var parentId         = "296";
                                    var entityId         = "3550";
                                    var entityTable      = "civicrm_contact";
                                    var skipTagCreate    = "";
                                    //NYSS
                                    var skipEntityAction = "0";

                                    cj.post( postUrl, { action: action, tagID: id, parentId: parentId, entityId: entityId, entityTable: entityTable,
                                      skipTagCreate: skipTagCreate, skipEntityAction: skipEntityAction, key: "3bbd3ba7c057828fc6e35045fbe32394" },
                                      function ( response ) {
                                        // update hidden element
                                        if ( response.id ) {
                                          var curVal   = cj( ".contact-taglist_296" ).val( );
                                          var valArray = curVal.split(',');
                                          var setVal   = Array( );
                                          if ( response.action == 'delete' ) {
                                            for ( x in valArray ) {
                                              if ( valArray[x] != response.id ) {
                                                setVal[x] = valArray[x];
                                              }
                                            }
                                            CRM.alert('', 'Removed', 'success');
                                          }
                                          else {
                                            CRM.alert('', 'Saved', 'success');
                                          }
                                          if ( response.action == 'select' ) {
                                            setVal    = valArray;
                                            setVal[ setVal.length ] = response.id;
                                          }

                                          var actualValue = setVal.join( ',' );
                                          cj( ".contact-taglist_296" ).val( actualValue );
                                        }
                                        // update contact summary tab
                                        if (CRM.updateContactSummaryTags) {
                                          CRM.updateContactSummaryTags();
                                        }
                                      },
                                    "json" );
                                  }

                                </script>

                                </div>
                                <div class="clear"></div>
                            </div>
                            <div id="BBTreeContainer" class="BB_default crm-container crm-section tag-section crm-processed-input">

                                 <div class="tag-label">
                                    <label>Issue Codes</label>
                                </div>
                                <input type="text" autocomplete="off" maxlength="64" id="issue-code-search" >

                                <script type="text/javascript">
                                  cj( document ).ready(function() {
				      // step up the tree to find the parent elements of a dt
				      function highlightParent (data) {
					var id ="#tagLabel_"+cj(data).attr('parent');
					cj(id).addClass('search-parent');
					if (cj(data).attr('tlvl')>1) {
					  highlightParent(id);
					};
				      }

                                      cj( "#issue-code-search" ).on('input',function(e){
					var search = cj("#issue-code-search").val().toLowerCase();
					cj("dt").removeClass('searched');
					cj("dt").removeClass('search-parent');
					cj("dt").removeClass('search-hidden');
					if (search.length > 2 ) {
					  cj("dt").filter(function() {
					    // if the search term exists within the tag body
					    if(cj(this).text().toLowerCase().indexOf(search) > -1){
					      cj(this).addClass('searched');

					      // console.log(
					      //   "Content: "+cj(this).find('.name').text()+" \t\t| "+
					      //   "Parent: "+cj(this).attr('parent')+" \t\t| "+
					      //   "TagLvl: "+cj(this).attr('tlvl')+" \t\t| "
					      // );
					      if (cj(this).attr('tlvl')>1) {
						highlightParent(this);
						//cj("#tagLabel_"+cj(this).attr('parent')).addClass('searched');
						//cj("#tagLabel_"+cj(this).attr('parent')).find('.ddControl').click();
					      };
					    }
					  });
					  cj("dt").not( ".searched, .search-parent" ).addClass('search-hidden');
					  cj("dt.search-parent" ).find('.ddControl').click();

					}else{
					  cj("dt").removeClass('searched');
					  cj("dt").removeClass('search-parent');
					  cj("dt").removeClass('search-hidden');
					}

					// http://stackoverflow.com/questions/9424417/




					// cj("dt:contains('"+search+"')").each( function( i, element ) {
					//   var content = cj(element).text();
					//   cj("#"+element.id).addClass('searched');
					//   console.log(cj("dt#"+element.id).attr( "parent" ));
					//   // for (var i = Things.length - 1; i >= 0; i--) {
					//   //   Things[i]
					//   // };
					//   // cj("#"+element.id)
					//   //console.log(cj("#"+element.id).prevAll()); //.parentsUntil( cj("dt.lv-0") )) //.addClass('searched');
					// });


                                      });

                                  });
                                </script>

                                <script type="text/javascript">
                                 var BBCID = 18304;
                                var BBActionConst = 16;
                                BBTree.startInstance({pullSets: [291], buttonType: 'tagging'});
                                BBTree.initContainer('', {pullSets: [291]});
                               </script>
                              <div class="clear"></div>

                            </div>
                            <div class="crm-section tag-section contact-tagset-292-section">
                              <div class="tag-label">
                                <label>Positions</label>
                              </div>
                              <div class="content">
                                &nbsp;
                                <input type="hidden" name="contact_taglist[292]" value="" id="contact_taglist_292" />
                                <script type="text/javascript">
                                  var tagUrl = "/civicrm/ajax/taglist?parentId=292&key=459191e4b5403730b0af7a496ac52055";
                                  var contactEntityTags = '';

                                   //NYSS
                                  var hintText = "Begin typing a tag name.";

                                  cj( ".contact-tagset-292-section:not(.crm-processed-input) input")
                                    .addClass("contact-taglist_292");
                                  cj( ".contact-tagset-292-section:not(.crm-processed-input) .contact-taglist_292"  )
                                    .tokenInput( tagUrl, {
                                      prePopulate: contactEntityTags,
                                      theme: 'facebook',
                                      hintText: hintText,
                                      onAdd: function ( item ) {
                                        processContactTags_292( 'select', item.id );

                                        //NYSS update count of tags in summary tab
                                        if ( cj( '.ui-tabs-nav #tab_tag a' ).length ) {
                                          var tagCount = cj('.ui-tabs-nav #tab_tag a em').html();
                                          tagCount++;
                                          cj( '.ui-tabs-nav #tab_tag a em' ).html(tagCount);
                                        }
                                      },
                                      onDelete: function ( item ) {
                                        processContactTags_292( 'delete', item.id );
                                        //NYSS update count of tags in summary tab
                                        if ( cj( '.ui-tabs-nav #tab_tag a' ).length ) {
                                          var tagCount = cj('.ui-tabs-nav #tab_tag a em').html();
                                          tagCount--;
                                          cj( '.ui-tabs-nav #tab_tag a em' ).html(tagCount);
                                        }
                                      }
                                    }
                                  );

                                  cj( ".contact-tagset-292-section:not(.crm-processed-input)").addClass("crm-processed-input");

                                  function processContactTags_292( action, id ) {
                                    var postUrl          = "/civicrm/ajax/processTags";
                                    var parentId         = "292";
                                    var entityId         = "3550";
                                    var entityTable      = "civicrm_contact";
                                    var skipTagCreate    = "";
                                    //NYSS
                                    var skipEntityAction = "";

                                    cj.post( postUrl, { action: action, tagID: id, parentId: parentId, entityId: entityId, entityTable: entityTable,
                                      skipTagCreate: skipTagCreate, skipEntityAction: skipEntityAction, key: "3bbd3ba7c057828fc6e35045fbe32394" },
                                      function ( response ) {
                                        // update hidden element
                                        if ( response.id ) {
                                          var curVal   = cj( ".contact-taglist_292" ).val( );
                                          var valArray = curVal.split(',');
                                          var setVal   = Array( );
                                          if ( response.action == 'delete' ) {
                                            for ( x in valArray ) {
                                              if ( valArray[x] != response.id ) {
                                                setVal[x] = valArray[x];
                                              }
                                            }
                                            CRM.alert('', 'Removed', 'success');
                                          }
                                          else {
                                            CRM.alert('', 'Saved', 'success');
                                          }
                                          if ( response.action == 'select' ) {
                                            setVal    = valArray;
                                            setVal[ setVal.length ] = response.id;
                                          }

                                          var actualValue = setVal.join( ',' );
                                          cj( ".contact-taglist_292" ).val( actualValue );
                                        }
                                        // update contact summary tab
                                        if (CRM.updateContactSummaryTags) {
                                          CRM.updateContactSummaryTags();
                                        }
                                      },
                                    "json" );
                                  }

                                </script>
                              </div>
                            <div class="clear"></div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
  </div>
</div>
</body>
</html>
